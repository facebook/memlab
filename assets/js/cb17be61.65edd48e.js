"use strict";(globalThis.webpackChunkmemlab_website=globalThis.webpackChunkmemlab_website||[]).push([[1024],{5680(e,n,a){a.d(n,{xA:()=>c,yg:()=>b});var t=a(6540);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach(function(n){r(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function p(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=t.createContext({}),s=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},c=function(e){var n=s(e.components);return t.createElement(l.Provider,{value:n},e.children)},g={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef(function(e,n){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=s(a),b=r,m=d["".concat(l,".").concat(b)]||d[b]||g[b]||o;return a?t.createElement(m,i(i({ref:n},c),{},{components:a})):t.createElement(m,i({ref:n},c))});function b(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var s=2;s<o;s++)i[s]=a[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},8315(e,n,a){a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var t=a(8168),r=(a(6540),a(5680));const o={},i="Interface: IHeapEdge",p={unversionedId:"api/core/src/interfaces/IHeapEdge",id:"api/core/src/interfaces/IHeapEdge",title:"Interface: IHeapEdge",description:"Defined in1662",source:"@site/docs/api/core/src/interfaces/IHeapEdge.md",sourceDirName:"api/core/src/interfaces",slug:"/api/core/src/interfaces/IHeapEdge",permalink:"/memlab/docs/api/core/src/interfaces/IHeapEdge",draft:!1,editUrl:"https://github.com/facebook/memlab/blob/main/website/docs/api/core/src/interfaces/IHeapEdge.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Interface: IBrowserInfo",permalink:"/memlab/docs/api/core/src/interfaces/IBrowserInfo"},next:{title:"Interface: IHeapEdges",permalink:"/memlab/docs/api/core/src/interfaces/IHeapEdges"}},l={},s=[{value:"Properties",id:"properties",level:2},{value:"edgeIndex",id:"edgeindex",level:3},{value:"fromNode",id:"fromnode",level:3},{value:"is_index",id:"is_index",level:3},{value:"name_or_index",id:"name_or_index",level:3},{value:"Inherited from",id:"inherited-from",level:4},{value:"snapshot",id:"snapshot",level:3},{value:"to_node",id:"to_node",level:3},{value:"toNode",id:"tonode",level:3},{value:"type",id:"type",level:3},{value:"Inherited from",id:"inherited-from-1",level:4},{value:"Methods",id:"methods",level:2},{value:"getJSONifyableObject()",id:"getjsonifyableobject",level:3},{value:"Returns",id:"returns",level:4},{value:"toJSONString()",id:"tojsonstring",level:3},{value:"Parameters",id:"parameters",level:4},{value:"args",id:"args",level:5},{value:"Returns",id:"returns-1",level:4}],c={toc:s};function g({components:e,...n}){return(0,r.yg)("wrapper",(0,t.A)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"interface-iheapedge"},"Interface: IHeapEdge"),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1662"},"core/src/lib/Types.ts:1662")),(0,r.yg)("p",null,"An ",(0,r.yg)("inlineCode",{parentName:"p"},"IHeapEdge")," instance represents a JS reference in a heap snapshot.\nA heap snapshot is generally a graph where graph nodes are JS heap objects\nand graph edges are JS references among JS heap objects."),(0,r.yg)("p",null," it is not recommended to modify any ",(0,r.yg)("inlineCode",{parentName:"p"},"IHeapEdge")," instance"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Examples"),": V8 or hermes heap snapshot can be parsed by the\ngetFullHeapFromFile API.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"import type {IHeapSnapshot, IHeapEdge} from '@memlab/core';\nimport {dumpNodeHeapSnapshot} from '@memlab/core';\nimport {getFullHeapFromFile} from '@memlab/heap-analysis';\n\n(async function () {\n  const heapFile = dumpNodeHeapSnapshot();\n  const heap: IHeapSnapshot = await getFullHeapFromFile(heapFile);\n\n  // iterate over each edge (JS reference in heap)\n  heap.edges.forEach((edge: IHeapEdge, i: number) => {\n    // use the heap edge APIs here\n    const nameOrIndex = edge.name_or_index;\n    // ...\n  });\n})();\n")),(0,r.yg)("h2",{id:"properties"},"Properties"),(0,r.yg)("h3",{id:"edgeindex"},"edgeIndex"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"edgeIndex"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"number"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1670"},"core/src/lib/Types.ts:1670")),(0,r.yg)("p",null,"index of this JS reference inside the ",(0,r.yg)("inlineCode",{parentName:"p"},"edge.snapshot.edges")," pseudo array"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"fromnode"},"fromNode"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"fromNode"),": ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},(0,r.yg)("inlineCode",{parentName:"a"},"IHeapNode")))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1691"},"core/src/lib/Types.ts:1691")),(0,r.yg)("p",null,"returns an ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},"IHeapNode")," instance representing the hosting\nJS heap object where this reference starts"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"is_index"},"is","_","index"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"is","_","index"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"boolean"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1677"},"core/src/lib/Types.ts:1677")),(0,r.yg)("p",null,"if ",(0,r.yg)("inlineCode",{parentName:"p"},"true"),", means this is a reference to an array element\nor internal table element (",(0,r.yg)("inlineCode",{parentName:"p"},"edge.name_or_index")," will return a number),\notherwise this is a reference with a string name (",(0,r.yg)("inlineCode",{parentName:"p"},"edge.name_or_index"),"\nwill return a string)"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"name_or_index"},"name","_","or","_","index"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"name","_","or","_","index"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"string")," ","|"," ",(0,r.yg)("inlineCode",{parentName:"p"},"number"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1626"},"core/src/lib/Types.ts:1626")),(0,r.yg)("p",null,"name of the JS reference. If this is a reference to an array element\nor internal table element, it is an numeric index"),(0,r.yg)("h4",{id:"inherited-from"},"Inherited from"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"IHeapEdgeBasic.name_or_index")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"snapshot"},"snapshot"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"snapshot"),": ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapSnapshot"},(0,r.yg)("inlineCode",{parentName:"a"},"IHeapSnapshot")))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1666"},"core/src/lib/Types.ts:1666")),(0,r.yg)("p",null,"get the ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapSnapshot"},"IHeapSnapshot")," containing this JS reference"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"to_node"},"to","_","node"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"to","_","node"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"number"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1681"},"core/src/lib/Types.ts:1681")),(0,r.yg)("p",null,"the index of the JS heap object pointed to by this reference"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"tonode"},"toNode"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"toNode"),": ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},(0,r.yg)("inlineCode",{parentName:"a"},"IHeapNode")))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1686"},"core/src/lib/Types.ts:1686")),(0,r.yg)("p",null,"returns an ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},"IHeapNode")," instance representing the JS heap object\npointed to by this reference"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"type"},"type"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"type"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"string"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1631"},"core/src/lib/Types.ts:1631")),(0,r.yg)("p",null,"type of the JS reference, all types:\n",(0,r.yg)("inlineCode",{parentName:"p"},"context"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"element"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"property"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"internal"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"hidden"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"shortcut"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"weak")),(0,r.yg)("h4",{id:"inherited-from-1"},"Inherited from"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"IHeapEdgeBasic.type")),(0,r.yg)("h2",{id:"methods"},"Methods"),(0,r.yg)("h3",{id:"getjsonifyableobject"},"getJSONifyableObject()"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"getJSONifyableObject"),"(): ",(0,r.yg)("inlineCode",{parentName:"p"},"AnyRecord"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1699"},"core/src/lib/Types.ts:1699")),(0,r.yg)("p",null,"convert to a concise readable object that can be used for serialization\n(like calling ",(0,r.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)"),")."),(0,r.yg)("p",null,"This API does not contain all the information\ncaptured by the hosting object."),(0,r.yg)("h4",{id:"returns"},"Returns"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"AnyRecord")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"tojsonstring"},"toJSONString()"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"toJSONString"),"(...",(0,r.yg)("inlineCode",{parentName:"p"},"args"),"): ",(0,r.yg)("inlineCode",{parentName:"p"},"string"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/3c2a27ec41ba151808a88376dfab6bb6625b1570/packages/core/src/lib/Types.ts#L1712"},"core/src/lib/Types.ts:1712")),(0,r.yg)("p",null,"convert to a concise readable string output\n(like calling ",(0,r.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)"),")."),(0,r.yg)("p",null,"Note: Please be aware that using ",(0,r.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)")," is\nnot recommended as it will generate a JSON representation of the host\nobject that is too large to be easily readable due to its connections\nto other parts of the data structures within the heap snapshot."),(0,r.yg)("p",null,"This API does not completely serialize all the information\ncaptured by the hosting object."),(0,r.yg)("h4",{id:"parameters"},"Parameters"),(0,r.yg)("h5",{id:"args"},"args"),(0,r.yg)("p",null,"...",(0,r.yg)("inlineCode",{parentName:"p"},"any"),"[]"),(0,r.yg)("h4",{id:"returns-1"},"Returns"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"string")))}g.isMDXComponent=!0}}]);