"use strict";(self.webpackChunkmemlab_website=self.webpackChunkmemlab_website||[]).push([[984],{5680:(e,n,a)=>{a.d(n,{xA:()=>g,yg:()=>y});var r=a(6540);function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){t(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function l(e,n){if(null==e)return{};var a,r,t=function(e,n){if(null==e)return{};var a,r,t={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var p=r.createContext({}),s=function(e){var n=r.useContext(p),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},g=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var a=e.components,t=e.mdxType,o=e.originalType,p=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),d=s(a),m=t,y=d["".concat(p,".").concat(m)]||d[m]||c[m]||o;return a?r.createElement(y,i(i({ref:n},g),{},{components:a})):r.createElement(y,i({ref:n},g))}));function y(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l[d]="string"==typeof e?e:t,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2182:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=a(8168),t=(a(6540),a(5680));const o={id:"core_src.IHeapEdge",title:"Interface: IHeapEdge",sidebar_label:"IHeapEdge",custom_edit_url:null},i=void 0,l={unversionedId:"api/interfaces/core_src.IHeapEdge",id:"api/interfaces/core_src.IHeapEdge",title:"Interface: IHeapEdge",description:"An IHeapEdge instance represents a JS reference in a heap snapshot.",source:"@site/docs/api/interfaces/core_src.IHeapEdge.md",sourceDirName:"api/interfaces",slug:"/api/interfaces/core_src.IHeapEdge",permalink:"/memlab/docs/api/interfaces/core_src.IHeapEdge",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"core_src.IHeapEdge",title:"Interface: IHeapEdge",sidebar_label:"IHeapEdge",custom_edit_url:null},sidebar:"sidebar",previous:{title:"IBrowserInfo",permalink:"/memlab/docs/api/interfaces/core_src.IBrowserInfo"},next:{title:"IHeapEdges",permalink:"/memlab/docs/api/interfaces/core_src.IHeapEdges"}},p={},s=[{value:"Hierarchy",id:"hierarchy",level:2},{value:"Properties",id:"properties",level:2},{value:'<a id="edgeindex" name="edgeindex"></a> <strong>edgeIndex</strong>: <code>number</code>',id:"-edgeindex-number",level:3},{value:'<a id="fromnode" name="fromnode"></a> <strong>fromNode</strong>: <code>IHeapNode</code>',id:"-fromnode-iheapnode",level:3},{value:'<a id="is_index" name="is_index"></a> <strong>is_index</strong>: <code>boolean</code>',id:"-is_index-boolean",level:3},{value:'<a id="name_or_index" name="name_or_index"></a> <strong>name_or_index</strong>: <code>string</code> | <code>number</code>',id:"-name_or_index-string--number",level:3},{value:'<a id="snapshot" name="snapshot"></a> <strong>snapshot</strong>: <code>IHeapSnapshot</code>',id:"-snapshot-iheapsnapshot",level:3},{value:'<a id="tonode" name="tonode"></a> <strong>toNode</strong>: <code>IHeapNode</code>',id:"-tonode-iheapnode",level:3},{value:'<a id="to_node" name="to_node"></a> <strong>to_node</strong>: <code>number</code>',id:"-to_node-number",level:3},{value:'<a id="type" name="type"></a> <strong>type</strong>: <code>string</code>',id:"-type-string",level:3},{value:"Methods",id:"methods",level:2},{value:'<a id="getjsonifyableobject"></a><strong>getJSONifyableObject</strong>()',id:"getjsonifyableobject",level:3},{value:'<a id="tojsonstring"></a><strong>toJSONString</strong>(...<code>args</code>)',id:"tojsonstringargs",level:3}],g={toc:s},d="wrapper";function c(e){let{components:n,...a}=e;return(0,t.yg)(d,(0,r.A)({},g,a,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("p",null,"An ",(0,t.yg)("inlineCode",{parentName:"p"},"IHeapEdge")," instance represents a JS reference in a heap snapshot.\nA heap snapshot is generally a graph where graph nodes are JS heap objects\nand graph edges are JS references among JS heap objects."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},(0,t.yg)("inlineCode",{parentName:"strong"},"readonly"))," it is not recommended to modify any ",(0,t.yg)("inlineCode",{parentName:"p"},"IHeapEdge")," instance"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Examples"),": V8 or hermes heap snapshot can be parsed by the\n",(0,t.yg)("a",{parentName:"li",href:"/memlab/docs/api/modules/heap_analysis_src#getfullheapfromfile"},"getFullHeapFromFile")," API.")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-typescript"},"import type {IHeapSnapshot, IHeapEdge} from '@memlab/core';\nimport {dumpNodeHeapSnapshot} from '@memlab/core';\nimport {getFullHeapFromFile} from '@memlab/heap-analysis';\n\n(async function () {\n  const heapFile = dumpNodeHeapSnapshot();\n  const heap: IHeapSnapshot = await getFullHeapFromFile(heapFile);\n\n  // iterate over each edge (JS reference in heap)\n  heap.edges.forEach((edge: IHeapEdge, i: number) => {\n    // use the heap edge APIs here\n    const nameOrIndex = edge.name_or_index;\n    // ...\n  });\n})();\n")),(0,t.yg)("h2",{id:"hierarchy"},"Hierarchy"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"IHeapEdgeBasic")),(0,t.yg)("p",{parentName:"li"},"\u21b3 ",(0,t.yg)("strong",{parentName:"p"},(0,t.yg)("inlineCode",{parentName:"strong"},"IHeapEdge"))))),(0,t.yg)("h2",{id:"properties"},"Properties"),(0,t.yg)("h3",{id:"-edgeindex-number"},(0,t.yg)("a",{id:"edgeindex",name:"edgeindex"})," ",(0,t.yg)("strong",{parentName:"h3"},"edgeIndex"),": ",(0,t.yg)("inlineCode",{parentName:"h3"},"number")),(0,t.yg)("p",null,"index of this JS reference inside the ",(0,t.yg)("inlineCode",{parentName:"p"},"edge.snapshot.edges")," pseudo array"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1668"},"core/src/lib/Types.ts:1668"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-fromnode-iheapnode"},(0,t.yg)("a",{id:"fromnode",name:"fromnode"})," ",(0,t.yg)("strong",{parentName:"h3"},"fromNode"),": ",(0,t.yg)("a",{parentName:"h3",href:"/memlab/docs/api/interfaces/core_src.IHeapNode"},(0,t.yg)("inlineCode",{parentName:"a"},"IHeapNode"))),(0,t.yg)("p",null,"returns an ",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/interfaces/core_src.IHeapNode"},"IHeapNode")," instance representing the hosting\nJS heap object where this reference starts"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1689"},"core/src/lib/Types.ts:1689"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-is_index-boolean"},(0,t.yg)("a",{id:"is\\_index",name:"is\\_index"})," ",(0,t.yg)("strong",{parentName:"h3"},"is","_","index"),": ",(0,t.yg)("inlineCode",{parentName:"h3"},"boolean")),(0,t.yg)("p",null,"if ",(0,t.yg)("inlineCode",{parentName:"p"},"true"),", means this is a reference to an array element\nor internal table element (",(0,t.yg)("inlineCode",{parentName:"p"},"edge.name_or_index")," will return a number),\notherwise this is a reference with a string name (",(0,t.yg)("inlineCode",{parentName:"p"},"edge.name_or_index"),"\nwill return a string)"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1675"},"core/src/lib/Types.ts:1675"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-name_or_index-string--number"},(0,t.yg)("a",{id:"name\\_or\\_index",name:"name\\_or\\_index"})," ",(0,t.yg)("strong",{parentName:"h3"},"name","_","or","_","index"),": ",(0,t.yg)("inlineCode",{parentName:"h3"},"string")," ","|"," ",(0,t.yg)("inlineCode",{parentName:"h3"},"number")),(0,t.yg)("p",null,"name of the JS reference. If this is a reference to an array element\nor internal table element, it is an numeric index"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1624"},"core/src/lib/Types.ts:1624"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-snapshot-iheapsnapshot"},(0,t.yg)("a",{id:"snapshot",name:"snapshot"})," ",(0,t.yg)("strong",{parentName:"h3"},"snapshot"),": ",(0,t.yg)("a",{parentName:"h3",href:"/memlab/docs/api/interfaces/core_src.IHeapSnapshot"},(0,t.yg)("inlineCode",{parentName:"a"},"IHeapSnapshot"))),(0,t.yg)("p",null,"get the ",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/interfaces/core_src.IHeapSnapshot"},"IHeapSnapshot")," containing this JS reference"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1664"},"core/src/lib/Types.ts:1664"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-tonode-iheapnode"},(0,t.yg)("a",{id:"tonode",name:"tonode"})," ",(0,t.yg)("strong",{parentName:"h3"},"toNode"),": ",(0,t.yg)("a",{parentName:"h3",href:"/memlab/docs/api/interfaces/core_src.IHeapNode"},(0,t.yg)("inlineCode",{parentName:"a"},"IHeapNode"))),(0,t.yg)("p",null,"returns an ",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/interfaces/core_src.IHeapNode"},"IHeapNode")," instance representing the JS heap object\npointed to by this reference"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1684"},"core/src/lib/Types.ts:1684"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-to_node-number"},(0,t.yg)("a",{id:"to\\_node",name:"to\\_node"})," ",(0,t.yg)("strong",{parentName:"h3"},"to","_","node"),": ",(0,t.yg)("inlineCode",{parentName:"h3"},"number")),(0,t.yg)("p",null,"the index of the JS heap object pointed to by this reference"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1679"},"core/src/lib/Types.ts:1679"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"-type-string"},(0,t.yg)("a",{id:"type",name:"type"})," ",(0,t.yg)("strong",{parentName:"h3"},"type"),": ",(0,t.yg)("inlineCode",{parentName:"h3"},"string")),(0,t.yg)("p",null,"type of the JS reference, all types:\n",(0,t.yg)("inlineCode",{parentName:"p"},"context"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"element"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"property"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"internal"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"hidden"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"shortcut"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"weak")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1629"},"core/src/lib/Types.ts:1629"))))),(0,t.yg)("h2",{id:"methods"},"Methods"),(0,t.yg)("h3",{id:"getjsonifyableobject"},(0,t.yg)("a",{id:"getjsonifyableobject"}),(0,t.yg)("strong",{parentName:"h3"},"getJSONifyableObject"),"()"),(0,t.yg)("p",null,"convert to a concise readable object that can be used for serialization\n(like calling ",(0,t.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)"),")."),(0,t.yg)("p",null,"This API does not contain all the information\ncaptured by the hosting object."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Returns"),": ",(0,t.yg)("inlineCode",{parentName:"li"},"AnyRecord")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1697"},"core/src/lib/Types.ts:1697"))))),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"tojsonstringargs"},(0,t.yg)("a",{id:"tojsonstring"}),(0,t.yg)("strong",{parentName:"h3"},"toJSONString"),"(...",(0,t.yg)("inlineCode",{parentName:"h3"},"args"),")"),(0,t.yg)("p",null,"convert to a concise readable string output\n(like calling ",(0,t.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)"),")."),(0,t.yg)("p",null,"Note: Please be aware that using ",(0,t.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)")," is\nnot recommended as it will generate a JSON representation of the host\nobject that is too large to be easily readable due to its connections\nto other parts of the data structures within the heap snapshot."),(0,t.yg)("p",null,"This API does not completely serialize all the information\ncaptured by the hosting object."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Parameters"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"...args"),": ",(0,t.yg)("inlineCode",{parentName:"li"},"any"),"[]"))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Returns"),": ",(0,t.yg)("inlineCode",{parentName:"li"},"string")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/facebook/memlab/blob/4f6de3d/packages/core/src/lib/Types.ts#L1710"},"core/src/lib/Types.ts:1710"))))))}c.isMDXComponent=!0}}]);