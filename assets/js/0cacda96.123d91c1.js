"use strict";(globalThis.webpackChunkmemlab_website=globalThis.webpackChunkmemlab_website||[]).push([[2472],{3894(e,a,n){n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var r=n(8168),t=(n(6540),n(5680));const o={},l="Interface: IHeapNodes",i={unversionedId:"api/core/src/interfaces/IHeapNodes",id:"api/core/src/interfaces/IHeapNodes",title:"Interface: IHeapNodes",description:"Defined in2258",source:"@site/docs/api/core/src/interfaces/IHeapNodes.md",sourceDirName:"api/core/src/interfaces",slug:"/api/core/src/interfaces/IHeapNodes",permalink:"/memlab/docs/api/core/src/interfaces/IHeapNodes",draft:!1,editUrl:"https://github.com/facebook/memlab/blob/main/website/docs/api/core/src/interfaces/IHeapNodes.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Interface: IHeapNode",permalink:"/memlab/docs/api/core/src/interfaces/IHeapNode"},next:{title:"Interface: IHeapSnapshot",permalink:"/memlab/docs/api/core/src/interfaces/IHeapSnapshot"}},p={},s=[{value:"Properties",id:"properties",level:2},{value:"length",id:"length",level:3},{value:"Methods",id:"methods",level:2},{value:"forEach()",id:"foreach",level:3},{value:"Parameters",id:"parameters",level:4},{value:"callback",id:"callback",level:5},{value:"Returns",id:"returns",level:4},{value:"get()",id:"get",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"index",id:"index",level:5},{value:"Returns",id:"returns-1",level:4}],c={toc:s};function d({components:e,...a}){return(0,t.yg)("wrapper",(0,r.A)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"interface-iheapnodes"},"Interface: IHeapNodes"),(0,t.yg)("p",null,"Defined in: ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/c51990b76b87622f5b474dc191f07a21562dad19/packages/core/src/lib/Types.ts#L2258"},"core/src/lib/Types.ts:2258")),(0,t.yg)("p",null,"A pseudo array containing all heap graph nodes (JS objects\nin heap). A JS heap could contain millions of objects, so memlab uses\na pseudo array as the collection of all the heap nodes. The pseudo\narray provides API to query and traverse all heap objects."),(0,t.yg)("p",null," modifying this pseudo array is not recommended"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Examples"),":")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-typescript"},"import type {IHeapSnapshot, IHeapNodes} from '@memlab/core';\nimport {dumpNodeHeapSnapshot} from '@memlab/core';\nimport {getFullHeapFromFile} from '@memlab/heap-analysis';\n\n(async function () {\n  const heapFile = dumpNodeHeapSnapshot();\n  const heap: IHeapSnapshot = await getFullHeapFromFile(heapFile);\n\n  const nodes: IHeapNodes = heap.nodes;\n  nodes.length;\n  nodes.get(0);\n  nodes.forEach((node, i) => {\n    if (stopIteration) {\n      return false;\n    }\n  });\n})();\n")),(0,t.yg)("h2",{id:"properties"},"Properties"),(0,t.yg)("h3",{id:"length"},"length"),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},(0,t.yg)("strong",{parentName:"p"},"length"),": ",(0,t.yg)("inlineCode",{parentName:"p"},"number"))),(0,t.yg)("p",null,"Defined in: ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/c51990b76b87622f5b474dc191f07a21562dad19/packages/core/src/lib/Types.ts#L2263"},"core/src/lib/Types.ts:2263")),(0,t.yg)("p",null,"The total number of nodes in heap graph (or JS objects in heap\nsnapshot)."),(0,t.yg)("h2",{id:"methods"},"Methods"),(0,t.yg)("h3",{id:"foreach"},"forEach()"),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},(0,t.yg)("strong",{parentName:"p"},"forEach"),"(",(0,t.yg)("inlineCode",{parentName:"p"},"callback"),"): ",(0,t.yg)("inlineCode",{parentName:"p"},"void"))),(0,t.yg)("p",null,"Defined in: ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/c51990b76b87622f5b474dc191f07a21562dad19/packages/core/src/lib/Types.ts#L2279"},"core/src/lib/Types.ts:2279")),(0,t.yg)("p",null,"Iterates over all array elements and applies the callback\nto each element in ascending order of element index."),(0,t.yg)("h4",{id:"parameters"},"Parameters"),(0,t.yg)("h5",{id:"callback"},"callback"),(0,t.yg)("p",null,"(",(0,t.yg)("inlineCode",{parentName:"p"},"node"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"index"),") => ",(0,t.yg)("inlineCode",{parentName:"p"},"boolean")," ","|"," ",(0,t.yg)("inlineCode",{parentName:"p"},"void")),(0,t.yg)("p",null,"the callback does not need to return any value, if\nthe callback returns ",(0,t.yg)("inlineCode",{parentName:"p"},"false")," when iterating on element at index ",(0,t.yg)("inlineCode",{parentName:"p"},"i"),",\nthen all elements after ",(0,t.yg)("inlineCode",{parentName:"p"},"i")," won't be iterated."),(0,t.yg)("h4",{id:"returns"},"Returns"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"void")),(0,t.yg)("hr",null),(0,t.yg)("h3",{id:"get"},"get()"),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},(0,t.yg)("strong",{parentName:"p"},"get"),"(",(0,t.yg)("inlineCode",{parentName:"p"},"index"),"): ",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/type-aliases/Nullable"},(0,t.yg)("inlineCode",{parentName:"a"},"Nullable")),"\\<",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},(0,t.yg)("inlineCode",{parentName:"a"},"IHeapNode")),">")),(0,t.yg)("p",null,"Defined in: ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/c51990b76b87622f5b474dc191f07a21562dad19/packages/core/src/lib/Types.ts#L2271"},"core/src/lib/Types.ts:2271")),(0,t.yg)("p",null,"Gets an ",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},"IHeapNode")," element at the specified index."),(0,t.yg)("h4",{id:"parameters-1"},"Parameters"),(0,t.yg)("h5",{id:"index"},"index"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"number")),(0,t.yg)("p",null,"the index of an element in the pseudo array, the index ranges\nfrom 0 to array length - 1. Notice that this is not the heap node id."),(0,t.yg)("h4",{id:"returns-1"},"Returns"),(0,t.yg)("p",null,(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/type-aliases/Nullable"},(0,t.yg)("inlineCode",{parentName:"a"},"Nullable")),"\\<",(0,t.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},(0,t.yg)("inlineCode",{parentName:"a"},"IHeapNode")),">"),(0,t.yg)("p",null,"When 0 <= ",(0,t.yg)("inlineCode",{parentName:"p"},"index")," < array.length, this API returns the element\nat the specified index, otherwise it returns ",(0,t.yg)("inlineCode",{parentName:"p"},"null"),"."))}d.isMDXComponent=!0},5680(e,a,n){n.d(a,{xA:()=>c,yg:()=>u});var r=n(6540);function t(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach(function(a){t(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function i(e,a){if(null==e)return{};var n,r,t=function(e,a){if(null==e)return{};var n,r,t={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var p=r.createContext({}),s=function(e){var a=r.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},c=function(e){var a=s(e.components);return r.createElement(p.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},m=r.forwardRef(function(e,a){var n=e.components,t=e.mdxType,o=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=s(n),u=t,g=m["".concat(p,".").concat(u)]||m[u]||d[u]||o;return n?r.createElement(g,l(l({ref:a},c),{},{components:n})):r.createElement(g,l({ref:a},c))});function u(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var p in a)hasOwnProperty.call(a,p)&&(i[p]=a[p]);i.originalType=e,i.mdxType="string"==typeof e?e:t,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);