"use strict";(globalThis.webpackChunkmemlab_website=globalThis.webpackChunkmemlab_website||[]).push([[3547],{1765(e,a,n){n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var t=n(8168),r=(n(6540),n(5680));const o={},i="Interface: IHeapLocation",l={unversionedId:"api/core/src/interfaces/IHeapLocation",id:"api/core/src/interfaces/IHeapLocation",title:"Interface: IHeapLocation",description:"Defined in1576",source:"@site/docs/api/core/src/interfaces/IHeapLocation.md",sourceDirName:"api/core/src/interfaces",slug:"/api/core/src/interfaces/IHeapLocation",permalink:"/memlab/docs/api/core/src/interfaces/IHeapLocation",draft:!1,editUrl:"https://github.com/facebook/memlab/blob/main/website/docs/api/core/src/interfaces/IHeapLocation.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Interface: IHeapEdges",permalink:"/memlab/docs/api/core/src/interfaces/IHeapEdges"},next:{title:"Interface: IHeapNode",permalink:"/memlab/docs/api/core/src/interfaces/IHeapNode"}},p={},c=[{value:"Properties",id:"properties",level:2},{value:"column",id:"column",level:3},{value:"line",id:"line",level:3},{value:"node",id:"node",level:3},{value:"script_id",id:"script_id",level:3},{value:"snapshot",id:"snapshot",level:3},{value:"Methods",id:"methods",level:2},{value:"getJSONifyableObject()",id:"getjsonifyableobject",level:3},{value:"Returns",id:"returns",level:4},{value:"toJSONString()",id:"tojsonstring",level:3},{value:"Parameters",id:"parameters",level:4},{value:"args",id:"args",level:5},{value:"Returns",id:"returns-1",level:4}],s={toc:c};function g({components:e,...a}){return(0,r.yg)("wrapper",(0,t.A)({},s,a,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"interface-iheaplocation"},"Interface: IHeapLocation"),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1576"},"core/src/lib/Types.ts:1576")),(0,r.yg)("p",null,"An ",(0,r.yg)("inlineCode",{parentName:"p"},"IHeapLocation")," instance contains a source location information\nassociated with a JS heap object.\nA heap snapshot is generally a graph where graph nodes are JS heap objects\nand graph edges are JS references among JS heap objects."),(0,r.yg)("p",null," it is not recommended to modify any ",(0,r.yg)("inlineCode",{parentName:"p"},"IHeapLocation")," instance"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Examples"),": V8 or hermes heap snapshot can be parsed by the\ngetFullHeapFromFile API.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"import type {IHeapSnapshot, IHeapNode, IHeapLocation} from '@memlab/core';\nimport {dumpNodeHeapSnapshot} from '@memlab/core';\nimport {getFullHeapFromFile} from '@memlab/heap-analysis';\n\n(async function () {\n  const heapFile = dumpNodeHeapSnapshot();\n  const heap: IHeapSnapshot = await getFullHeapFromFile(heapFile);\n\n  // iterate over each node (heap object)\n  heap.nodes.forEach((node: IHeapNode, i: number) => {\n    const location: Nullable<IHeapLocation> = node.location;\n    if (location) {\n      // use the location API here\n      location.line;\n      // ...\n    }\n  });\n})();\n")),(0,r.yg)("h2",{id:"properties"},"Properties"),(0,r.yg)("h3",{id:"column"},"column"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"column"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"number"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1596"},"core/src/lib/Types.ts:1596")),(0,r.yg)("p",null,"get the column number"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"line"},"line"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"line"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"number"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1592"},"core/src/lib/Types.ts:1592")),(0,r.yg)("p",null,"get the line number"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"node"},"node"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"node"),": ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/type-aliases/Nullable"},(0,r.yg)("inlineCode",{parentName:"a"},"Nullable")),"\\<",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapNode"},(0,r.yg)("inlineCode",{parentName:"a"},"IHeapNode")),">")),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1584"},"core/src/lib/Types.ts:1584")),(0,r.yg)("p",null,"get the heap object this location this location represents"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"script_id"},"script","_","id"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"script","_","id"),": ",(0,r.yg)("inlineCode",{parentName:"p"},"number"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1588"},"core/src/lib/Types.ts:1588")),(0,r.yg)("p",null,"get the script ID of the source file"),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"snapshot"},"snapshot"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"snapshot"),": ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapSnapshot"},(0,r.yg)("inlineCode",{parentName:"a"},"IHeapSnapshot")))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1580"},"core/src/lib/Types.ts:1580")),(0,r.yg)("p",null,"get the ",(0,r.yg)("a",{parentName:"p",href:"/memlab/docs/api/core/src/interfaces/IHeapSnapshot"},"IHeapSnapshot")," containing this location instance"),(0,r.yg)("h2",{id:"methods"},"Methods"),(0,r.yg)("h3",{id:"getjsonifyableobject"},"getJSONifyableObject()"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"getJSONifyableObject"),"(): ",(0,r.yg)("inlineCode",{parentName:"p"},"AnyRecord"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1604"},"core/src/lib/Types.ts:1604")),(0,r.yg)("p",null,"convert to a concise readable object that can be used for serialization\n(like calling ",(0,r.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)"),")."),(0,r.yg)("p",null,"This API does not contain all the information\ncaptured by the hosting object."),(0,r.yg)("h4",{id:"returns"},"Returns"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"AnyRecord")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"tojsonstring"},"toJSONString()"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"toJSONString"),"(...",(0,r.yg)("inlineCode",{parentName:"p"},"args"),"): ",(0,r.yg)("inlineCode",{parentName:"p"},"string"))),(0,r.yg)("p",null,"Defined in: ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/facebook/memlab/blob/5e285cf2ca82727da0a3852d6f8b3035238a3c62/packages/core/src/lib/Types.ts#L1617"},"core/src/lib/Types.ts:1617")),(0,r.yg)("p",null,"convert to a concise readable string output\n(like calling ",(0,r.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)"),")."),(0,r.yg)("p",null,"Note: Please be aware that using ",(0,r.yg)("inlineCode",{parentName:"p"},"JSON.stringify(node, ...args)")," is\nnot recommended as it will generate a JSON representation of the host\nobject that is too large to be easily readable due to its connections\nto other parts of the data structures within the heap snapshot."),(0,r.yg)("p",null,"This API does not completely serialize all the information\ncaptured by the hosting object."),(0,r.yg)("h4",{id:"parameters"},"Parameters"),(0,r.yg)("h5",{id:"args"},"args"),(0,r.yg)("p",null,"...",(0,r.yg)("inlineCode",{parentName:"p"},"any"),"[]"),(0,r.yg)("h4",{id:"returns-1"},"Returns"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"string")))}g.isMDXComponent=!0},5680(e,a,n){n.d(a,{xA:()=>s,yg:()=>y});var t=n(6540);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach(function(a){r(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=t.createContext({}),c=function(e){var a=t.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},s=function(e){var a=c(e.components);return t.createElement(p.Provider,{value:a},e.children)},g={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef(function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=c(n),y=r,u=m["".concat(p,".").concat(y)]||m[y]||g[y]||o;return n?t.createElement(u,i(i({ref:a},s),{},{components:n})):t.createElement(u,i({ref:a},s))});function y(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);